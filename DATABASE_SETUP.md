# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช - Database Setup

## ๐ ุงููุชุทูุจุงุช ุงููุณุจูุฉ

1. **ุญุณุงุจ Supabase:**
   - ุฅูุดุงุก ุญุณุงุจ ุนูู [supabase.com](https://supabase.com)
   - ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ

2. **ุจูุงูุงุช ุงูุงุชุตุงู:**
   - URL ุงููุดุฑูุน
   - ููุชุงุญ API ุงูุนุงู (anon key)

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Supabase
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู **SQL Editor**
4. ุงูุณุฎ ูุญุชูู ููู `complete_database_schema.sql`
5. ุงุถุบุท **Run** ูุชูููุฐ ุงูููุฏ

### 1.1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ (ุฅุฐุง ูุงูุช ููุฌูุฏุฉ)

ุฅุฐุง ูุงู ูุฏูู ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ ูุชุฑูุฏ ุญุฐู ุญูู ุงูุฅูููู ูู ุฌุฏูู ุงูุนููุงุก:

1. ุงูุณุฎ ูุญุชูู ููู `update_customers_table.sql`
2. ุงุถุบุท **Run** ูุชูููุฐ ุงูุชุญุฏูุซ

### 2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ุฅูู ููู `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 3. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

1. ุดุบู ุงูุชุทุจูู: `npm run dev`
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุนููุงุก
3. ุชุฃูุฏ ูู ุธููุฑ ุงูุจูุงูุงุช

## ๐ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

1. **users** - ุงููุณุชุฎุฏููู (ุงููุฏูุฑูู ูุงูููุธููู)
2. **permissions** - ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
3. **customers** - ุงูุนููุงุก
4. **merchants** - ุงูุชุฌุงุฑ ูุงููุทุงุนู
5. **employees** - ุงูููุธููู ููุจุงุชู ุงูุชูุตูู
6. **products** - ุงูููุชุฌุงุช ูุงูุญูููุงุช
7. **inventory** - ุงููุฎุฒูู
8. **orders** - ุงูุทูุจุงุช
9. **order_items** - ุนูุงุตุฑ ุงูุทูุจุงุช
10. **notifications** - ุงูุฅุดุนุงุฑุงุช
11. **audit_log** - ุณุฌู ุงูุนูููุงุช
12. **support_tickets** - ุชุฐุงูุฑ ุงูุฏุนู
13. **ticket_messages** - ุฑุณุงุฆู ุงูุชุฐุงูุฑ
14. **reports** - ุงูุชูุงุฑูุฑ

### ุงูุนูุงูุงุช:

- ูู ูุณุชุฎุฏู ูู ุตูุงุญูุงุช ูุญุฏุฏุฉ
- ูู ุทูุจ ูุฑุชุจุท ุจุนููู ูุชุงุฌุฑ
- ูู ููุชุฌ ูุฑุชุจุท ุจุชุงุฌุฑ
- ูู ุนูุตุฑ ูุฎุฒูู ูุฑุชุจุท ุจููุชุฌ

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

1. **ุฎุทุฃ ูู ุงูุงุชุตุงู:**
   - ุชุฃูุฏ ูู ุตุญุฉ URL ู API Key
   - ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ

2. **ุฎุทุฃ ูู ุฅุถุงูุฉ ุงูุนููู:**
   - ุชุฃูุฏ ูู ูุฌูุฏ ุฌุฏูู `customers`
   - ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ

3. **ุฎุทุฃ ูู ุนุฑุถ ุงูุจูุงูุงุช:**
   - ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ูู ุงูุฌุฏุงูู
   - ุชุญูู ูู ุตุญุฉ ุงูุงุณุชุนูุงูุงุช

### ุฑุณุงุฆู ุงูุฎุทุฃ:

- `ูุดู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช` - ูุดููุฉ ูู ุงูุงุชุตุงู
- `ุฌููุน ุงูุญููู ูุทููุจุฉ` - ุจูุงูุงุช ูุงูุตุฉ
- `ูุดู ูู ุฅุถุงูุฉ ุงูุนููู` - ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:** ุชู ุชูุนูู Row Level Security (RLS)
2. **ุงูุฃุฏุงุก:** ุชู ุฅุถุงูุฉ ููุงุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ุงุญุชูุธ ุจูุณุฎุฉ ูู ุงูุจูุงูุงุช ุงููููุฉ
4. **ุงูุชุญุฏูุซุงุช:** ุงุณุชุฎุฏู `ON CONFLICT` ูุชุฌูุจ ุชูุฑุงุฑ ุงูุจูุงูุงุช

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. ุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู
2. ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
3. ุชุฎุตูุต ุงูุตูุงุญูุงุช
4. ุฅุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช
5. ุชูููู ุงูุชูุงุฑูุฑ

---

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุชุดุบูู ุฌููุน ุฃูุงูุฑ SQL ุจุงูุชุฑุชูุจ ุงูุตุญูุญ ูุชุฌูุจ ุฃุฎุทุงุก ูู ุงูุนูุงูุงุช. 